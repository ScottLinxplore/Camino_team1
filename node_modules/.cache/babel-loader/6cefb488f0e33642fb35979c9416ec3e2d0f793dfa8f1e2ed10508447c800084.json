{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\lab\\\\camino_project\\\\Camino_20250512\\\\Camino_team1-Scott_test\\\\caminoapp\\\\src\\\\components\\\\P5_PlainingRoom.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport DatePicker from \"react-datepicker\";\nimport \"../css/P5_PlainingRoom.css\";\nimport Button from \"./Button\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function PlainingRoom() {\n  _s();\n  var _location$state, _location$state2;\n  const [data, setData] = useState(null);\n  useEffect(() => {\n    fetch(\"http://localhost:3002/route\").then(response => response.json()).then(json => {\n      console.log(\"抓到資料：\", json);\n      setData(json);\n    }).catch(error => {\n      console.error(\"抓資料失敗\", error);\n    });\n  }, []);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const {\n    startDate,\n    endDate,\n    departureFlight,\n    returnFlight,\n    departureFlight: selectedDepartureFlight,\n    returnFlight: selectedReturnFlight,\n    isStartTransfer,\n    isEndTransfer\n  } = location.state || {};\n  const routeId = (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.routeId;\n  const Days = (_location$state2 = location.state) === null || _location$state2 === void 0 ? void 0 : _location$state2.Days;\n  const route = data === null || data === void 0 ? void 0 : data.find(item => item.route_id === parseInt(routeId));\n  const [selectedStartDate, setSelectedStartDate] = useState(null);\n  const [selectedEndDate, setSelectedEndDate] = useState(null);\n  //私人房\n\n  const [peopleCount, setPeopleCount] = useState(\"2\");\n  const [roomType, setRoomType] = useState(\"\"); //  \"bunk\"、\"private\"、\"none\"\n  //日期選擇\n  const dateOptions = startDate && endDate ? getDateOptions(startDate, endDate) : [];\n  const filteredEndOptions = selectedStartDate //選開始日後 結束日要篩掉比開始日小的\n  ? dateOptions.filter(d => d.value > selectedStartDate) : dateOptions;\n  //右邊區快\n  // 幫你「一開始就準備好每天」要顯示的資料，每天都先設為「自行訂購」\n  const [roomPlan, setRoomPlan] = useState(() => {\n    if (!startDate || !endDate) return {};\n    const updatedPlan = {};\n    const tripStart = new Date(startDate);\n    const tripEnd = new Date(endDate);\n    for (let d = new Date(tripStart); d <= tripEnd; d.setDate(d.getDate() + 1)) {\n      const key = d.toLocaleDateString(\"zh-TW\", {\n        month: \"numeric\",\n        day: \"numeric\"\n      }); //全部預設為自行訂購\n      updatedPlan[key] = \"自行訂購\";\n    }\n    return updatedPlan;\n  });\n\n  //彈窗用\n  const [modalData, setModalData] = useState(null); // 統計資料\n  const [showModal, setShowModal] = useState(false); // 控制彈窗開關\n  //點下一步去彈窗\n  function handleNextStep() {\n    const stats = calculateRoomStats(roomPlan); // 1計算出天數 下面的參數只是參數 這邊的參數是值定義我要計算roomplan\n    setModalData(stats); // 存進 state，提供彈窗顯示內容\n    setShowModal(true); // 打開彈窗\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"planing-Room\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"route_name\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: (route === null || route === void 0 ? void 0 : route.name) && route.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendar-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calendar-group\",\n          children: /*#__PURE__*/_jsxDEV(DatePicker, {\n            selected: startDate ? new Date(startDate) : null,\n            readOnly: true,\n            onChange: () => {},\n            dateFormat: \"M/d\",\n            customInput: /*#__PURE__*/_jsxDEV(CustomDateInput, {\n              label: \"\\u8D77\\u59CB\\u65E5\\u671F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 28\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calendar-group\",\n          children: /*#__PURE__*/_jsxDEV(DatePicker, {\n            selected: endDate ? new Date(endDate) : null,\n            readOnly: true,\n            onChange: () => {},\n            dateFormat: \"M/d\",\n            customInput: /*#__PURE__*/_jsxDEV(CustomDateInput, {\n              label: \"\\u7D50\\u675F\\u65E5\\u671F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 28\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timeline-container\",\n        style: {\n          marginTop: \"3rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timeline-step\",\n          children: [departureFlight ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"plane-on-dot\",\n            children: \"\\u2708\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"label\",\n            children: departureFlight ? departureFlight.route.split(\"→\")[0].trim() : \"出發機場\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `timeline-line long2 ${departureFlight ? \"blue-line\" : \"\"}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timeline-step\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"label\",\n            children: departureFlight ? departureFlight.route.split(\"→\").slice(-1)[0].trim() : \"抵達機場\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `timeline-line ${isStartTransfer ? \"blue-line\" : \"\"}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timeline-step\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"label\",\n            children: \"\\u8056\\u8B93\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timeline-line completed long\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timeline-step\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"label\",\n            children: \"\\u8056\\u5730\\u7259\\u54E5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `timeline-line ${isEndTransfer ? \"blue-line\" : \"\"}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timeline-step\",\n          children: [returnFlight ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"plane-on-dot\",\n            children: \"\\u2708\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"label\",\n            children: returnFlight ? returnFlight.route.split(\"→\")[0].trim() : \"出發機場\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `timeline-line long2 ${returnFlight ? \"blue-line\" : \"\"}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timeline-step\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"label\",\n            children: returnFlight ? returnFlight.route.split(\"→\").slice(-1)[0].trim() : \"抵達機場\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"room-type-text\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"\\u9078\\u64C7\\u60F3\\u8981\\u7684\\u623F\\u578B\", startDate && endDate && ` ${new Date(startDate).toLocaleDateString(\"zh-TW\", {\n            month: \"numeric\",\n            day: \"numeric\"\n          })} - ${new Date(endDate).toLocaleDateString(\"zh-TW\", {\n            month: \"numeric\",\n            day: \"numeric\"\n          })}`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"room-selection-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"room-selection-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"date-picker-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedStartDate,\n              onChange: e => {\n                setSelectedStartDate(e.target.value);\n                setSelectedEndDate(\"\"); // 改起始日結束日要重設\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"\\u8ACB\\u9078\\u64C7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this), dateOptions.map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: d.value,\n                children: d.label\n              }, d.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                margin: \"0 8px\",\n                fontSize: \"1.5rem\"\n              },\n              children: \"To\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedEndDate,\n              onChange: e => setSelectedEndDate(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"\\u8ACB\\u9078\\u64C7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this), filteredEndOptions.map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: d.value,\n                children: d.label\n              }, d.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), selectedStartDate && selectedEndDate && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"steelblue\",\n              fontSize: \"0.9rem\"\n            },\n            children: [\"*\\u5DF2\\u9078\", \" \", new Date(selectedStartDate).toLocaleDateString(\"zh-TW\", {\n              month: \"numeric\",\n              day: \"numeric\"\n            }), \" \", \"-\", \" \", new Date(selectedEndDate).toLocaleDateString(\"zh-TW\", {\n              month: \"numeric\",\n              day: \"numeric\"\n            }), \" \", \"\\u4F4F\\u5BBF\\u5340\\u6BB5\\uFF0C\\u8ACB\\u78BA\\u8A8D\\u623F\\u578B\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"room-options\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: roomType === \"bunk\",\n                onChange: () => setRoomType(\"bunk\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 17\n              }, this), \"\\u5171\\u7528\\u623F\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: roomType === \"private\",\n                onChange: () => setRoomType(\"private\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 17\n              }, this), \"\\u79C1\\u4EBA\\u623F\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this), roomType === \"private\" && /*#__PURE__*/_jsxDEV(\"select\", {\n              value: peopleCount,\n              onChange: e => setPeopleCount(e.target.value),\n              style: {\n                marginLeft: \"8px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"2\",\n                children: \"2\\u4EBA\\u623F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"3\",\n                children: \"3\\u4EBA\\u623F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"4\",\n                children: \"4\\u4EBA\\u623F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                name: \"roomtype\",\n                checked: roomType === \"none\" //那麼 roomType === \"none\" 就是 true 就打勾\n                ,\n                onChange: () => setRoomType(\"none\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this), \"\\u81EA\\u884C\\u8A02\\u8CFC\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"submit-button\",\n            onClick: handleAddRoomSelection,\n            children: \"\\u65B0\\u589E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"arrow-divider\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"room-selection-right\",\n          children: Object.entries(roomPlan).map(([date, type]) =>\n          /*#__PURE__*/\n          //Object.entries(obj) 會把每個 key/value pair 變成一組 [key, value] 陣列。\n          // 所以 entry[0] 一定是「key（也就是你的日期）」，entry[1] 一定是「value（也就是你的房型）」\n          //不解構寫法\n          // Object.entries(roomPlan).map((entry) => {\n          //   const date = entry[0];  // 就是 key（日期）\n          //   const type = entry[1];  // 就是 value（房型）\n          // });\n          _jsxDEV(\"div\", {\n            className: \"room-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                width: \"60px\"\n              },\n              children: date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: type,\n              onChange: e => setRoomPlan(prev => ({\n                ...prev,\n                [date]: e.target.value\n              })) //\n              ,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\\u5171\\u7528\\u623F\",\n                children: \"\\u5171\\u7528\\u623F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\\u79C1\\u4EBA\\u623F - 2\\u4EBA\\u623F\",\n                children: \"\\u79C1\\u4EBA\\u623F - 2\\u4EBA\\u623F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\\u79C1\\u4EBA\\u623F - 3\\u4EBA\\u623F\",\n                children: \"\\u79C1\\u4EBA\\u623F - 3\\u4EBA\\u623F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\\u79C1\\u4EBA\\u623F - 4\\u4EBA\\u623F\",\n                children: \"\\u79C1\\u4EBA\\u623F - 4\\u4EBA\\u623F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\\u81EA\\u884C\\u8A02\\u8CFC\",\n                children: \"\\u81EA\\u884C\\u8A02\\u8CFC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this)]\n          }, date, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), Object.values(roomPlan).some(type => type.includes(\"私人房\")) && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"darkred\",\n          fontSize: \"0.9rem\",\n          marginTop: \"8px\",\n          textAlign: \"center\"\n        },\n        children: [\"\\u9078\\u64C7\\u79C1\\u4EBA\\u623F\\u4E00\\u9593 +500 \\u5143\\uFF0C \\u60A8\\u5171\\u9078\\u64C7\", \" \", Object.values(roomPlan).filter(type => type.includes(\"私人房\")).length, \" \", \"\\u5929\\uFF0C\\u5171\\u52A0\", \" \", Object.values(roomPlan).filter(type => type.includes(\"私人房\")).length * 500, \" \", \"\\u5143\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-group\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          text: \"\\u8FD4\\u56DE\",\n          onClick: () => navigate(\"/day\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          text: \"\\u4E0B\\u4E00\\u6B65\",\n          onClick: handleNextStep\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), showModal && modalData && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u8A02\\u55AE\\u78BA\\u8A8D\\u8CC7\\u8A0A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Hello Scott ! \\u4F60\\u5C07\\u6703\\u5728\\u9019\\u88E1\\u5F85\\u4E0A \", modalData.totalDays, \" \\u5929\\uFF01\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"\\u79C1\\u4EBA\\u623F\\uFF1A\", modalData.privateCount, \" \\u5929\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"\\u5171\\u7528\\u623F\\uFF1A\", modalData.bunkCount, \" \\u5929\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"\\u672A\\u8A02\\u8CFC\\uFF1A\", modalData.noneCount, \" \\u5929\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calculatebutton\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            text: \"\\u8FD4\\u56DE\",\n            onClick: () => setShowModal(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            text: \"\\u4E0B\\u4E00\\u6B65\",\n            onClick: () => {\n              //  跳轉並傳送 state\n\n              navigate(\"/check\", {\n                state: {\n                  startDate,\n                  endDate,\n                  departureFlight: selectedDepartureFlight,\n                  returnFlight: selectedReturnFlight,\n                  routeId,\n                  selectedStartDate,\n                  selectedEndDate,\n                  roomPlan,\n                  isStartTransfer,\n                  isEndTransfer,\n                  Days\n                }\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n  //幫你「點了新增後」更新那些你選的區段，把每天的值設成你選的房型\n  function handleAddRoomSelection() {\n    if (!selectedStartDate || !selectedEndDate || !roomType) return;\n    const selectedStart = new Date(selectedStartDate);\n    const selectedEnd = new Date(selectedEndDate);\n    const updatedPlan = {\n      ...roomPlan\n    };\n    for (let d = new Date(selectedStart); d <= selectedEnd; d.setDate(d.getDate() + 1)) {\n      const key = d.toLocaleDateString(\"zh-TW\", {\n        month: \"numeric\",\n        day: \"numeric\"\n      });\n      updatedPlan[key] = roomType === \"bunk\" ? \"共用房\" : roomType === \"private\" ? `私人房 - ${peopleCount}人房` : \"自行訂購\";\n    }\n    setRoomPlan(updatedPlan);\n  }\n}\n\n// 自訂日期元件\n_s(PlainingRoom, \"mAZvsYzK9tmUKpAyDQhwlA582lo=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = PlainingRoom;\nfunction CustomDateInput({\n  value,\n  onClick,\n  label\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"calendar-card\",\n    onClick: onClick,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calendar-header\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calendar-body\",\n      children: value || \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 437,\n    columnNumber: 5\n  }, this);\n}\n_c2 = CustomDateInput;\nfunction getDateOptions(startStr, endStr) {\n  const start = new Date(startStr);\n  const end = new Date(endStr);\n  const dates = [];\n  while (start <= end) {\n    const label = `${start.getMonth() + 1}/${start.getDate()}`;\n    const value = `${start.getFullYear()}-${String(start.getMonth() + 1).padStart(2, \"0\")}-${String(start.getDate()).padStart(2, \"0\")}`; //用字串拼成日期 才不會被扣一\n    dates.push({\n      label,\n      value\n    });\n    start.setDate(start.getDate() + 1);\n  }\n  return dates;\n}\n//計算天數用於彈窗\nfunction calculateRoomStats(roomPlan) {\n  let privateCount = 0;\n  let bunkCount = 0;\n  let noneCount = 0;\n  Object.values(roomPlan).forEach(type => {\n    if (type.includes(\"私人房\")) {\n      privateCount++;\n    } else if (type === \"共用房\") {\n      bunkCount++;\n    } else if (type === \"自行訂購\") {\n      noneCount++;\n    }\n  });\n  return {\n    privateCount,\n    bunkCount,\n    noneCount,\n    totalDays: privateCount + bunkCount + noneCount\n  };\n}\nvar _c, _c2;\n$RefreshReg$(_c, \"PlainingRoom\");\n$RefreshReg$(_c2, \"CustomDateInput\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","DatePicker","Button","jsxDEV","_jsxDEV","Fragment","_Fragment","PlainingRoom","_s","_location$state","_location$state2","data","setData","fetch","then","response","json","console","log","catch","error","navigate","location","startDate","endDate","departureFlight","returnFlight","selectedDepartureFlight","selectedReturnFlight","isStartTransfer","isEndTransfer","state","routeId","Days","route","find","item","route_id","parseInt","selectedStartDate","setSelectedStartDate","selectedEndDate","setSelectedEndDate","peopleCount","setPeopleCount","roomType","setRoomType","dateOptions","getDateOptions","filteredEndOptions","filter","d","value","roomPlan","setRoomPlan","updatedPlan","tripStart","Date","tripEnd","setDate","getDate","key","toLocaleDateString","month","day","modalData","setModalData","showModal","setShowModal","handleNextStep","stats","calculateRoomStats","children","className","name","fileName","_jsxFileName","lineNumber","columnNumber","selected","readOnly","onChange","dateFormat","customInput","CustomDateInput","label","style","marginTop","split","trim","slice","e","target","map","margin","fontSize","color","type","checked","marginLeft","onClick","handleAddRoomSelection","Object","entries","date","width","prev","values","some","includes","textAlign","length","text","totalDays","privateCount","bunkCount","noneCount","selectedStart","selectedEnd","_c","_c2","startStr","endStr","start","end","dates","getMonth","getFullYear","String","padStart","push","forEach","$RefreshReg$"],"sources":["C:/Users/User/Desktop/lab/camino_project/Camino_20250512/Camino_team1-Scott_test/caminoapp/src/components/P5_PlainingRoom.jsx"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport DatePicker from \"react-datepicker\";\nimport \"../css/P5_PlainingRoom.css\";\nimport Button from \"./Button\";\n\nexport default function PlainingRoom() {\n  const [data, setData] = useState(null);\n  useEffect(() => {\n    fetch(\"http://localhost:3002/route\")\n      .then((response) => response.json())\n      .then((json) => {\n        console.log(\"抓到資料：\", json);\n        setData(json);\n      })\n      .catch((error) => {\n        console.error(\"抓資料失敗\", error);\n      });\n  }, []);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const {\n    startDate,\n    endDate,\n    departureFlight,\n    returnFlight,\n\n    departureFlight: selectedDepartureFlight,\n    returnFlight: selectedReturnFlight,\n    isStartTransfer,\n    isEndTransfer,\n  } = location.state || {};\n  const routeId = location.state?.routeId;\n  const Days = location.state?.Days;\n  const route = data?.find((item) => item.route_id === parseInt(routeId));\n\n  const [selectedStartDate, setSelectedStartDate] = useState(null);\n  const [selectedEndDate, setSelectedEndDate] = useState(null);\n  //私人房\n\n  const [peopleCount, setPeopleCount] = useState(\"2\");\n  const [roomType, setRoomType] = useState(\"\"); //  \"bunk\"、\"private\"、\"none\"\n  //日期選擇\n  const dateOptions =\n    startDate && endDate ? getDateOptions(startDate, endDate) : [];\n  const filteredEndOptions = selectedStartDate //選開始日後 結束日要篩掉比開始日小的\n    ? dateOptions.filter((d) => d.value > selectedStartDate)\n    : dateOptions;\n  //右邊區快\n  // 幫你「一開始就準備好每天」要顯示的資料，每天都先設為「自行訂購」\n  const [roomPlan, setRoomPlan] = useState(() => {\n    if (!startDate || !endDate) return {};\n\n    const updatedPlan = {};\n    const tripStart = new Date(startDate);\n    const tripEnd = new Date(endDate);\n\n    for (\n      let d = new Date(tripStart);\n      d <= tripEnd;\n      d.setDate(d.getDate() + 1)\n    ) {\n      const key = d.toLocaleDateString(\"zh-TW\", {\n        month: \"numeric\",\n        day: \"numeric\",\n      }); //全部預設為自行訂購\n      updatedPlan[key] = \"自行訂購\";\n    }\n\n    return updatedPlan;\n  });\n\n  //彈窗用\n  const [modalData, setModalData] = useState(null); // 統計資料\n  const [showModal, setShowModal] = useState(false); // 控制彈窗開關\n  //點下一步去彈窗\n  function handleNextStep() {\n    const stats = calculateRoomStats(roomPlan); // 1計算出天數 下面的參數只是參數 這邊的參數是值定義我要計算roomplan\n    setModalData(stats); // 存進 state，提供彈窗顯示內容\n    setShowModal(true); // 打開彈窗\n  }\n  return (\n    <>\n      <div className=\"planing-Room\">\n        <div className=\"route_name\">\n          <h3>{route?.name && route.name}</h3>\n        </div>\n        {/* 日期 */}\n        <div className=\"calendar-container\">\n          <div className=\"calendar-group\">\n            <DatePicker\n              selected={startDate ? new Date(startDate) : null}\n              readOnly\n              onChange={() => {}}\n              dateFormat=\"M/d\"\n              customInput={<CustomDateInput label=\"起始日期\" />}\n            />\n          </div>\n          <div className=\"calendar-group\">\n            <DatePicker\n              selected={endDate ? new Date(endDate) : null}\n              readOnly\n              onChange={() => {}}\n              dateFormat=\"M/d\"\n              customInput={<CustomDateInput label=\"結束日期\" />}\n            />\n          </div>\n        </div>\n        {/* Timeline */}\n        <div className=\"timeline-container\" style={{ marginTop: \"3rem\" }}>\n          {/* 去程出發 */}\n          <div className=\"timeline-step\">\n            {departureFlight ? (\n              <div className=\"plane-on-dot\">✈️</div>\n            ) : (\n              <div className=\"dot\" />\n            )}\n            <div className=\"label\">\n              {departureFlight\n                ? departureFlight.route.split(\"→\")[0].trim()\n                : \"出發機場\"}\n            </div>\n          </div>\n\n          <div\n            className={`timeline-line long2 ${\n              departureFlight ? \"blue-line\" : \"\"\n            }`}\n          />\n\n          {/* 去程抵達 */}\n          <div className=\"timeline-step\">\n            <div className=\"dot\" />\n            <div className=\"label\">\n              {departureFlight\n                ? departureFlight.route.split(\"→\").slice(-1)[0].trim()\n                : \"抵達機場\"}\n            </div>\n          </div>\n\n          <div\n            className={`timeline-line ${isStartTransfer ? \"blue-line\" : \"\"}`}\n          />\n          <div className=\"timeline-step\">\n            <div className=\"dot\" />\n            <div className=\"label\">聖讓</div>\n          </div>\n\n          <div className=\"timeline-line completed long\" />\n          <div className=\"timeline-step\">\n            <div className=\"dot\" />\n            <div className=\"label\">聖地牙哥</div>\n          </div>\n\n          <div\n            className={`timeline-line ${isEndTransfer ? \"blue-line\" : \"\"}`}\n          />\n\n          {/* 回程出發 */}\n          <div className=\"timeline-step\">\n            {returnFlight ? (\n              <div className=\"plane-on-dot\">✈️</div>\n            ) : (\n              <div className=\"dot\" />\n            )}\n            <div className=\"label\">\n              {returnFlight\n                ? returnFlight.route.split(\"→\")[0].trim()\n                : \"出發機場\"}\n            </div>\n          </div>\n\n          <div\n            className={`timeline-line long2 ${returnFlight ? \"blue-line\" : \"\"}`}\n          />\n\n          {/* 回程抵達 */}\n          <div className=\"timeline-step\">\n            <div className=\"dot\" />\n            <div className=\"label\">\n              {returnFlight\n                ? returnFlight.route.split(\"→\").slice(-1)[0].trim()\n                : \"抵達機場\"}\n            </div>\n          </div>\n        </div>\n        <div className=\"room-type-text\">\n          <h3>\n            選擇想要的房型\n            {startDate &&\n              endDate &&\n              ` ${new Date(startDate).toLocaleDateString(\"zh-TW\", {\n                month: \"numeric\",\n                day: \"numeric\",\n              })} - ${new Date(endDate).toLocaleDateString(\"zh-TW\", {\n                month: \"numeric\",\n                day: \"numeric\",\n              })}`}\n          </h3>\n        </div>\n        <div className=\"room-selection-container\">\n          <div className=\"room-selection-left\">\n            <div className=\"date-picker-container\">\n              <select\n                value={selectedStartDate}\n                onChange={(e) => {\n                  setSelectedStartDate(e.target.value);\n                  setSelectedEndDate(\"\"); // 改起始日結束日要重設\n                }}\n              >\n                <option value=\"\">請選擇</option>\n                {dateOptions.map((d) => (\n                  <option key={d.value} value={d.value}>\n                    {d.label}\n                  </option>\n                ))}\n              </select>\n\n              <span style={{ margin: \"0 8px\", fontSize: \"1.5rem\" }}>To</span>\n\n              <select\n                value={selectedEndDate}\n                onChange={(e) => setSelectedEndDate(e.target.value)}\n              >\n                <option value=\"\">請選擇</option>\n                {filteredEndOptions.map((d) => (\n                  <option key={d.value} value={d.value}>\n                    {d.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n            {selectedStartDate && selectedEndDate && (\n              <p\n                style={{\n                  color: \"steelblue\",\n                  fontSize: \"0.9rem\",\n                }}\n              >\n                *已選{\" \"}\n                {new Date(selectedStartDate).toLocaleDateString(\"zh-TW\", {\n                  month: \"numeric\",\n                  day: \"numeric\",\n                })}{\" \"}\n                -{\" \"}\n                {new Date(selectedEndDate).toLocaleDateString(\"zh-TW\", {\n                  month: \"numeric\",\n                  day: \"numeric\",\n                })}{\" \"}\n                住宿區段，請確認房型\n              </p>\n            )}\n            <div className=\"room-options\">\n              {/* 共用房 */}\n              <label>\n                <input\n                  type=\"checkbox\"\n                  checked={roomType === \"bunk\"}\n                  onChange={() => setRoomType(\"bunk\")}\n                />\n                共用房\n              </label>\n\n              {/* 私人房 */}\n              <label>\n                <input\n                  type=\"checkbox\"\n                  checked={roomType === \"private\"}\n                  onChange={() => setRoomType(\"private\")}\n                />\n                私人房\n              </label>\n\n              {/* ✅ 如果選私人房，就顯示人數下拉 */}\n              {roomType === \"private\" && (\n                <select\n                  value={peopleCount}\n                  onChange={(e) => setPeopleCount(e.target.value)}\n                  style={{ marginLeft: \"8px\" }}\n                >\n                  <option value=\"2\">2人房</option>\n                  <option value=\"3\">3人房</option>\n                  <option value=\"4\">4人房</option>\n                </select>\n              )}\n\n              {/* 不訂購 */}\n              <label>\n                <input\n                  type=\"checkbox\"\n                  name=\"roomtype\"\n                  checked={roomType === \"none\"} //那麼 roomType === \"none\" 就是 true 就打勾\n                  onChange={() => setRoomType(\"none\")}\n                />\n                自行訂購\n              </label>\n            </div>\n\n            <button className=\"submit-button\" onClick={handleAddRoomSelection}>\n              新增\n            </button>\n          </div>\n          <div className=\"arrow-divider\"></div>\n          {/* 中間箭頭 */}\n          <div className=\"room-selection-right\">\n            {Object.entries(roomPlan).map(([date, type]) => (\n              //Object.entries(obj) 會把每個 key/value pair 變成一組 [key, value] 陣列。\n              // 所以 entry[0] 一定是「key（也就是你的日期）」，entry[1] 一定是「value（也就是你的房型）」\n              //不解構寫法\n              // Object.entries(roomPlan).map((entry) => {\n              //   const date = entry[0];  // 就是 key（日期）\n              //   const type = entry[1];  // 就是 value（房型）\n              // });\n              <div className=\"room-row\" key={date}>\n                <span style={{ width: \"60px\" }}>{date}</span>\n                <select\n                  value={type}\n                  onChange={(e) =>\n                    setRoomPlan((prev) => ({\n                      ...prev,\n                      [date]: e.target.value,\n                    }))\n                  } //\n                >\n                  <option value=\"共用房\">共用房</option>\n                  <option value=\"私人房 - 2人房\">私人房 - 2人房</option>\n                  <option value=\"私人房 - 3人房\">私人房 - 3人房</option>\n                  <option value=\"私人房 - 4人房\">私人房 - 4人房</option>\n                  <option value=\"自行訂購\">自行訂購</option>\n                </select>\n              </div>\n            ))}\n          </div>\n        </div>\n        {Object.values(roomPlan).some((type) => type.includes(\"私人房\")) && (\n          <p\n            style={{\n              color: \"darkred\",\n              fontSize: \"0.9rem\",\n              marginTop: \"8px\",\n              textAlign: \"center\",\n            }}\n          >\n            選擇私人房一間 +500 元， 您共選擇{\" \"}\n            {\n              Object.values(roomPlan).filter((type) => type.includes(\"私人房\"))\n                .length\n            }{\" \"}\n            天，共加{\" \"}\n            {Object.values(roomPlan).filter((type) => type.includes(\"私人房\"))\n              .length * 500}{\" \"}\n            元\n          </p>\n        )}\n\n        <div className=\"button-group\">\n          <Button text=\"返回\" onClick={() => navigate(\"/day\")} />\n          <Button text=\"下一步\" onClick={handleNextStep} />\n        </div>\n      </div>\n      {showModal && modalData && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <h3>訂單確認資訊</h3>\n            <hr />\n            <p>Hello Scott ! 你將會在這裡待上 {modalData.totalDays} 天！</p>\n            <ul>\n              <li>私人房：{modalData.privateCount} 天</li>\n              <li>共用房：{modalData.bunkCount} 天</li>\n              <li>未訂購：{modalData.noneCount} 天</li>\n            </ul>\n            <div className=\"calculatebutton\">\n              <Button text=\"返回\" onClick={() => setShowModal(false)} />\n              <Button\n                text=\"下一步\"\n                onClick={() => {\n                  //  跳轉並傳送 state\n\n                  navigate(\"/check\", {\n                    state: {\n                      startDate,\n                      endDate,\n                      departureFlight: selectedDepartureFlight,\n                      returnFlight: selectedReturnFlight,\n                      routeId,\n                      selectedStartDate,\n                      selectedEndDate,\n                      roomPlan,\n                      isStartTransfer,\n                      isEndTransfer,\n                      Days,\n                    },\n                  });\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n  //幫你「點了新增後」更新那些你選的區段，把每天的值設成你選的房型\n  function handleAddRoomSelection() {\n    if (!selectedStartDate || !selectedEndDate || !roomType) return;\n\n    const selectedStart = new Date(selectedStartDate);\n    const selectedEnd = new Date(selectedEndDate);\n\n    const updatedPlan = { ...roomPlan };\n\n    for (\n      let d = new Date(selectedStart);\n      d <= selectedEnd;\n      d.setDate(d.getDate() + 1)\n    ) {\n      const key = d.toLocaleDateString(\"zh-TW\", {\n        month: \"numeric\",\n        day: \"numeric\",\n      });\n\n      updatedPlan[key] =\n        roomType === \"bunk\"\n          ? \"共用房\"\n          : roomType === \"private\"\n          ? `私人房 - ${peopleCount}人房`\n          : \"自行訂購\";\n    }\n\n    setRoomPlan(updatedPlan);\n  }\n}\n\n// 自訂日期元件\nfunction CustomDateInput({ value, onClick, label }) {\n  return (\n    <div className=\"calendar-card\" onClick={onClick}>\n      <div className=\"calendar-header\">{label}</div>\n      <div className=\"calendar-body\">{value || \"/\"}</div>\n    </div>\n  );\n}\n\nfunction getDateOptions(startStr, endStr) {\n  const start = new Date(startStr);\n  const end = new Date(endStr);\n  const dates = [];\n\n  while (start <= end) {\n    const label = `${start.getMonth() + 1}/${start.getDate()}`;\n    const value = `${start.getFullYear()}-${String(\n      start.getMonth() + 1\n    ).padStart(2, \"0\")}-${String(start.getDate()).padStart(2, \"0\")}`; //用字串拼成日期 才不會被扣一\n    dates.push({ label, value });\n    start.setDate(start.getDate() + 1);\n  }\n\n  return dates;\n}\n//計算天數用於彈窗\nfunction calculateRoomStats(roomPlan) {\n  let privateCount = 0;\n  let bunkCount = 0;\n  let noneCount = 0;\n\n  Object.values(roomPlan).forEach((type) => {\n    if (type.includes(\"私人房\")) {\n      privateCount++;\n    } else if (type === \"共用房\") {\n      bunkCount++;\n    } else if (type === \"自行訂購\") {\n      noneCount++;\n    }\n  });\n\n  return {\n    privateCount,\n    bunkCount,\n    noneCount,\n    totalDays: privateCount + bunkCount + noneCount,\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}